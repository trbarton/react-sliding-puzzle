(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(t,e,n){t.exports=n(40)},30:function(t,e,n){},37:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(13),c=n.n(o),i=(n(30),n(5)),s=n(6),l=n(9),u=n(7),p=n(8),m=n(12),d=n(10),b=n(11),f=n(41);function h(){var t=Object(d.a)(["\n  margin: 0 5px;\n  width: 92px;\n"]);return h=function(){return t},t}var g=b.a.button(h()),v=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).clickHandler=function(){n.props.restart()},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{id:"menu"},r.a.createElement("h3",{id:"subtitle"},this.props.status),r.a.createElement(f.a,{to:"/"},r.a.createElement(g,{className:"button"},"Menu")),r.a.createElement(g,{className:this.props.winClass,onClick:this.clickHandler},"Restart"))}}]),e}(a.Component),k=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(r)))).getBackgroundStyle=function(){var t=n.props.mapId.params.id,e={backgroundImage:"url('../images/".concat(t,".png')"),backgroundSize:"300px"};switch(n.props.status){case 1:e.backgroundPosition="0 0";break;case 2:e.backgroundPosition="-100px 0";break;case 3:e.backgroundPosition="-200px 0";break;case 4:e.backgroundPosition="0 -100px";break;case 5:e.backgroundPosition="-100px -100px";break;case 6:e.backgroundPosition="-200px -100px";break;case 7:e.backgroundPosition="0 -200px";break;case 8:e.backgroundPosition="-100px -200px";break;default:n.props.won?e.backgroundPosition="-200px -200px":e.backgroundImage=""}return e},n.clickHandler=function(t){n.props.tileClick(t.target,n.props.pos,n.props.status)},n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"tile",onClick:this.clickHandler,style:this.getBackgroundStyle()})}}]),e}(a.Component),w=function(t){var e=localStorage.getItem("puzzle-".concat(t));return e?JSON.parse(e):{completed:!1,best:null}},O=function(t,e){var n=localStorage.getItem("puzzle-".concat(t));n?e<JSON.parse(n).best&&localStorage.setItem("puzzle-".concat(t),JSON.stringify({completed:!0,best:e})):localStorage.setItem("puzzle-".concat(t),JSON.stringify({completed:!0,best:e}))},j=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).shuffle=function(t){return function(t){return t.map(function(e,n){for(var a=0,r=n+1;r<t.length;r++)t[r]&&t[r]<e&&(a+=1);return a}).reduce(function(t,e){return t+e})}(t=function(t){for(var e,n,a=t.length;a>0;)n=Math.floor(Math.random()*a),e=t[--a],t[a]=t[n],t[n]=e;return t}(t))%2!==0&&(t=function(t){for(var e=0;!t[e]||!t[e+1];)e++;var n=t[e];return t[e]=t[e+1],t[e+1]=n,t}(t)),t},n.getInitialState=function(){return{tiles:n.shuffle([1,2,3,4,5,6,7,8,""]),win:!1,numMoves:0}},n.checkBoard=function(){for(var t=n.state.tiles,e=0;e<t.length-1;e++)if(t[e]!==e+1)return!1;return!0},n.tileClick=function(t,e,a){console.log("position: ".concat(e));var r=n.state.tiles,o=[[null,1,3,null],[null,2,4,0],[null,null,5,1],[0,4,6,null],[1,5,7,3],[2,null,8,4],[3,7,null,null],[4,8,null,6],[5,null,null,7]];function c(e,n){var a=["up","right","down","left"][e];t.classList.add("move-"+a),setTimeout(function(){t.classList.remove("move-"+a),setTimeout(function(){},400)},200)}function i(){r[e]="",r[l]=a,this.setState({tiles:r,moves:o,win:this.checkBoard(),numMoves:this.state.numMoves+1}),this.state.win&&O(this.props.match.params.id,this.state.numMoves)}if(!n.state.win)for(var s=0;s<o[e].length;s++){var l=o[e][s];if("number"===typeof l&&!r[l]){c(s),setTimeout(i.bind(Object(m.a)(Object(m.a)(n))),200);break}}},n.restartGame=function(){n.setState(n.getInitialState())},n.state=n.getInitialState(),n}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this;return[r.a.createElement("h1",{className:"title"},"Puzzle ",this.props.match.params.id),r.a.createElement("div",null,r.a.createElement("div",{id:"game-board"},this.state.tiles.map(function(e,n){return r.a.createElement(k,{status:e,key:e,pos:n,tileClick:t.tileClick,won:t.state.win,mapId:t.props.match})})),r.a.createElement("h3",{className:"subtitle"},"Moves: ",this.state.numMoves),r.a.createElement("h3",{className:"subtitle"},"Best: ",w(this.props.match.params.id).best||"--"),r.a.createElement(v,{winClass:this.state.win?"button win":"button",status:this.state.win?"You win!":"Solve the puzzle.",restart:this.restartGame}))]}}]),e}(a.Component);function E(){var t=Object(d.a)(["\n  width: 80px;\n  height: 80px;\n\n  &:hover {\n    background: rgba(72, 172, 222, 0.5)\n  }\n"]);return E=function(){return t},t}function x(){var t=Object(d.a)(["\n  display: grid;\n  grid-template-columns: repeat(4, 80px);\n  grid-row-gap: 5px;\n  grid-column-gap: 5px;\n"]);return x=function(){return t},t}function y(){var t=Object(d.a)(["\n  display: flex;\n  justify-content: center;\n"]);return y=function(){return t},t}var z=b.a.div(y()),S=b.a.div(x()),C=b.a.button(E()),I=function(){return[r.a.createElement("h1",{className:"title"},"Orienteering",r.a.createElement("br",null)," Slide Puzzle"),r.a.createElement(z,null,r.a.createElement(S,null,function(t){for(var e=[],n=1;n<=21;n++)e.push(r.a.createElement(f.a,{to:"/puzzle/".concat(n),key:n},r.a.createElement(C,{className:w(n).completed?"button complete":"button"},n)));return e}()))]},N=(n(37),n(43)),P=n(42),M=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{id:"game-wrapper"},r.a.createElement(N.a,{basename:"/react-sliding-puzzle"},r.a.createElement("div",null,r.a.createElement(P.a,{path:"/",exact:!0,component:I}),r.a.createElement(P.a,{path:"/puzzle/:id?",component:j}))))}}]),e}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[24,2,1]]]);
//# sourceMappingURL=main.356b4a39.chunk.js.map